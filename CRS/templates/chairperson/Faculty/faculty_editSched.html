{% load static %}
<!DOCTYPE html>
<html>

    <head>
        <title> Chairperson | Faculty Edit Schedule </title>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <!-- include -->
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
        
        <!-- CSS -->
        <link rel="stylesheet" href="{% static '/CRS/css/cHome/cHomeStyleCP.css' %}">
        <link rel="stylesheet" href="{% static '/CRS/css/cStudents/cStudentsStyle.css' %}">
        <link href="https://fonts.googleapis.com/css?family=Lato:200,300,400,600,700,900&subset=latin-ext" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900&subset=latin-ext' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Inter&display=swap" rel="stylesheet" />

        <!--  ICON -->
        <link rel="icon" href="https://i.postimg.cc/Z5Kc9KQv/iplm-logo.png" type="image/x-icon"/>

        <script src="cHomeMain.js"> </script>

        <style>
            #addbtn {
                background-color: #3fb328;
                color: #ffffff;
                font-size: 14px;
                border-radius: 5px;
                height: 22px;
                width: 22px;
                border: none;
                margin-top: 8px;
            }

            #deletebtn {
                background-color: #f34e01;
                color: #ffffff;
                font-size: 14px;
                border-radius: 5px;
                height: 22px;
                width: 22px;
                border: none;
            }        
           
            .blockinfo {
                color: #5F6E83;
                font-family: 'Source Sans Pro', sans-serif;
                font-weight: 300;
                font-size: 12px;
                padding:20px 0px;
                width: 280px;
            }

            .label {
                color: #0892dd;
            }

            .fname {
                color: #06529b;
                font-size: 15px;
                font-family: 'Source Sans Pro', sans-serif;
                font-weight: 700;

            }

            .blockicon {
                margin-top: 7px;
            }

            .rstyle {
                margin-left:5px;  
                margin-right:3px; 
                margin-bottom:10px;             
            }

            .button-edit:hover {
                text-decoration: none;
            }

        </style>
    </head>


    <body class="content-scrollbar" onload="today()">
        <img src="{% static 'CRS/images/cHome/bglogo.png' %}" id="bglogo" class="unselectable">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-sm navbar-dark flex-sm-nowrap flex-wrap">           
            <a href="#menu-toggle" id="menu-toggle" class="navbar-brand unselectable d-xl-none" onclick="togglemenu()">
                <span></span><img class="nav-collapse unselectable" src="{% static 'CRS/images/cIcons/collapse.png' %}" height="13"></span>
            </a>                 
            <a href="{% url 'chairperson' %}" class="iplm-logo unselectable">
                <img src="https://i.postimg.cc/Z5Kc9KQv/iplm-logo.png" class="logo" />
                <div class="logo-text">
                  <div class="logo-main">iPLM</div>
                  <div class="logo-sub">Integrated PLM</div>
                </div>
            </a>      
                   
            <!-- navbar user name and title  -->
            <p class="d-none d-sm-block usertitle unselectable">
                Chairperson
            </p>
            <p href="{% url 'chairperson_profile' %}" class="d-none d-sm-block user unselectable">
                {{user.firstName}} {{user.middleName}} {{user.lastName}}
            </p>

            <!-- user profile dropdown -->
            <div class="unselectable dropdown pficon">
                <a class="dropdown-toggle profilehover" id="dropdownProfile" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <img id="profileicon" src="{% static 'CRS/images/fHomeAndProfile/userprofile.png' %}" width="35px" height="35px">
                </a>
                <ul class="dropdown-menu dropdown-menu-end dropdownProfileMenu p-3 text-muted" aria-labelledby="dropdownProfile">
                    <img id="profileicon" src="{% static 'CRS/images/fHomeAndProfile/userprofile.png' %}" width="40px" height="40px">
                    <p id="profilemenutitle">{{user.firstName}}<br></p>
                    <p id="profilemenuemail">{{user.email}}<br></p>
                    <div class="dropdown-divider"></div>
                    <li><a class="profilelinks" href="{% url 'chairperson_profile' %}">View Profile</a></li>
                    <li><a class="profilelinks" href="{% url 'fHome' %}">Log in as Faculty</a></li>
                    <li><a class="profilelinks" href="{% url 'logout' %}">Log out</a></li>
                </ul>
            </div>
        </nav>

        <div id="mainwrapper" class="toggled">
            <!-- Sidebar -->
            <div id="sidebar-wrapper" class="custom-scrollbar d-xl-block">
                <ul class="sidebar-nav">
                    <li class="active"> <a class="sb-links" href="{% url 'chairperson' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/home.png' %}" height="15"> Home</a> </li>
                    <li class="sb-section unselectable"><span>CRS</span></li>
                    <li> <a class="sb-links" href="{% url 'is_active' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/department.png' %}" height="15"> Department</a> </li>
                    <li> <a class="sb-links" href="{% url 'dept_student' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/students.png' %}" height="15"> Students</a> </li>
                    <li> <a class="sb-links" href="{% url 'full_time' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/faculty.png' %}" height="15"> Faculty</a> </li>
                    <li class="sb-section unselectable"><span>Student Application</span></li>
                    <li> <a class="sb-links" href="{% url 'cOthers-studyPlan' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/studyplan.png' %}" height="15"> Study Plan</a> </li>
                    <li> <a class="sb-links" href="{% url 'cOthers-loa' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/loa.png' %}" height="15"> Leave of Absence</a> </li>
                    <li> <a class="sb-links" href="{% url 'cOthers-hd' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/hd.png' %}" height="15"> Honorable Dismissal</a> </li>
                    <li> <a class="sb-links" href="{% url 'cOthers-ojt' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/practicum.png' %}" height="15"> Practicum</a> </li>
                    <li> <a class="sb-links" href="{% url 'cOthers-shifter' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/shifter.png' %}" height="15"> Shifter</a> </li>
                    <li> <a class="sb-links" href="{% url 'cOthers-outshifter' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/shifter.png' %}" height="15"> Outbound Shifter</a> </li>
                    <li> <a class="sb-links" href="{% url 'cOthers-transferee' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/transferee.png' %}" height="15"> Transferee</a> </li>
                    <li class="sb-section unselectable"><span>Faculty Application</span></li>
                    <li> <a class="sb-links" href="{% url 'cfaculty_applicant' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/applicant.png' %}" height="15"> Application</a> </li>
                    <li> <a class="sb-links" href="{% url 'cOthers-partTime' %}"><img class="sb-icons" src="{% static 'CRS/images/cIcons/pta.png' %}" height="15">    Part-time Availability</a> </li>
                </ul>
            </div> 
            <!-- end sidebar -->      
            
            <!-- quick links-->
            <div id="mainwrapper" class="toggled">
                <div id="qlinks" class="custom-scrollbar qlinks-wrapper d-xl-block" style="width:300px; margin-left:0px;">
                    <div class="blockinfo" style="margin-top: 70px;">
                        <div class="container">                                
                            <div class="row" style="margin-bottom:10px; margin-right:3px;">  
                                <div class="col-2 col" style="margin-left:20px;">
                                    <img src="{% static '/CRS/images/cIcons/person.png' %}" height="30" class="unselectable blockicon">
                                </div>                   
                                <div class="col" colspan="2" style="color:#5F6E83; font-weight: 500; overflow: hidden;"><b class="fname">
                                    {{ info.facultyUser.lastName }}, {{ info.facultyUser.firstName }} {{ info.facultyUser.middleName }}
                                   </b> <br>
                                   {{ info.facultyUser.email }}
                                </b></div>
                            </div>      
                             <hr>                          
                            <div class="row rstyle">                                                           
                                <div class="col"><b class="label">Faculty ID:</b></div>
                                <div class="col"><b class="output">{{info.facultyID}}</b></div>
                            </div>
                            <div class="row rstyle">  
                                <div class="col"><b class="label">Department:</b></div>
                                <div class="col"><b class="output">{{ info.departmentID }}</b></div>
                            </div>
                            <div class="row rstyle">  
                                <div class="col"><b class="label">Time Available:</b></div>
                                <div class="col"><b class="output">{{info.facultyIn}} - {{info.facultyOut}}</b></div>
                            </div>                            
                        </div>
                    </div>

                    <div class="blockinfo">
                        <div class="container"> 
                            <div class="row p-1">
                                <div class="col col-2 blockcol" style="margin-left: 0px">
                                  <img src="{% static '/CRS/images/cIcons/booksdark.png' %}" height="15" class="unselectable">
                                </div>
                                
                                <div class="col" style="color:#5F6E83; font-weight: 500; font-size:13px; overflow: hidden;">
                                    <b class="fname">
                                        Total Units: 
                                    </b>                                        
                                </div>
                                
                                <div class="col studentsnumber" style="color:#5F6E83; font-weight: 500; font-size:14px; overflow: hidden; margin-top:1px;">
                                  {{sum}}
                                </div>
                              </div>                         
                        </div>
                    </div>
                    
                                                           
                </div>
                
            </div>
            <!-- end quick links-->
            
            <!-- Page Content -->
            <div id="page-content-wrapper">
                <div class="container-fluid">  
                    
                    <!--------------------------------------- place content below this ------------------------------------------------------->                  
                                        
                    <!-- DB REGULAR AND ONLINE BUTTONS-->
                    
                    

                    <a href="{% url 'faculty_schedule' info.facultyUser.id  %}"><button class="btn btn-back unselectable">Back</button></a>


                    {% if messages %}
                    {% for message in messages %}
                    {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                    <div class="alertError" style="width: 730px;">
                        <span class="closebtnError unselectable" onclick="this.parentElement.style.display='none';">&times;</span> 
                        {{ message }}
                    </div>
                    {% endif %}

                    {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
                    <div class="alertSuccess" style="width: 730px;">
                        <span class="closebtnSuccess" onclick="this.parentElement.style.display='none';">&times;</span> 
                        {{ message }}
                    </div>
                    {% endif %}
                        
                    {% endfor %}
                    {% endif %}

                    <div class="container content-scrollbar schedborder" style="background-color: #fff; width:730px; margin-left:0;">  
                        <div class="container schedblock content-scrollbar" style="height: 200px; overflow:hidden;">                                               
                            <div class="row">
                                <div class="table-title header-sticky" ><span class="spanmarginleft">Schedule</span></div>                           
                                <table class="table table-style table-borderless table-sm">
                                    <tbody>                                        
                                        <tr class="table-header header-sticky" style="top: 45px;">
                                            <td></td>
                                            <td>Code</td>
                                            <td>Subject Name</td>
                                            <td>Section</td>
                                            <td>Day</td>
                                            <td>Time Start</td>
                                            <td>Time End</td>
                                            <td>Session Type</td>
                                            <td></td>
                                        </tr>

                                        {% for i in facultySchedule %}
                                            <tr class="tabletext2">
                                                <td></td>
                                                <td>{{i.subjectCode.subjectCode.subjectCode}}</td>
                                                <td>{{i.subjectCode.subjectCode.subjectName}}</td>
                                                <td>{{ i.realsection}}</td>
                                                <td>{{ i.day}}</td>
                                                <td>{{ i.timeStart}}</td>
                                                <td>{{ i.timeEnd}}</td>
                                                <td>{{i.type}}</td>
                                                <td>
                                                    <a href="remove={{i.id}}">
                                                        <button class="minibutton unselectable" type=submit id="deletebtn">
                                                            -
                                                        </button>
                                                    </a>
                                                </td>                                                  
                                        {% endfor %}
                                                
                                                
                                            </tr>
                                                                                  
                                    </tbody>
                                </table>
                            
                            </div>  
                
                        </div>
                    </div>            

                    {% block body %}
                    <div class="container content-scrollbar schedborder" style="background-color: #fff; width:730px; margin-left:0;">  
                        <div class="container schedblock content-scrollbar" style="height: 200px;">                                               
                            <div class="row">
                                <div class="table-title header-sticky" ><span class="spanmarginleft">Available Subjects</span></div>                           
                                <table class="table table-style table-borderless table-sm">
                                    <tbody>                                        
                                        <tr class="table-header header-sticky" style="top: 45px">
                                            <td></td>
                                            <td>Code</td>
                                            <td>Subject Name</td>
                                            <td>Section</td>
                                            <td>Day</td>
                                            <td>Time Start</td>
                                            <td>Time End</td>
                                            <td>Session Type</td>
                                            <td></td>
                                        </tr>

                                        {% for i in schedule %}
                                        {%if i.subjectCode.blockCourse == cperson.departmentID.courseName and i.subjectCode.subjectCode.college.collegeName == 'CET' %}
                                        
                                        <tr>
                                            <td></td>
                                            <td>{{i.subjectCode.subjectCode.subjectCode}}</td>
                                            <td>{{i.subjectCode.subjectCode.subjectName}}</td>
                                            <td>{{ i.realsection}}</td>
                                            <td>{{ i.day}}</td>
                                            <td>{{ i.timeStart}}</td>
                                            <td>{{ i.timeEnd}}</td>
                                            <td>{{ i.type}}</td>
                                            <td>
                                                <a href="add={{i.id}}">
                                                    <button class="minibutton unselectable" type=submit id="addbtn">
                                                        +
                                                    </button>
                                                </a>
                                            </td>                                        
                                        </tr>
                                        {%endif%}
                                        {% endfor %}
                                    </tbody>
                                </table>
                            
                            </div>  
                
                        </div>
                    </div>
                    {% endblock %}
                    
                    <!--------------------------------------- place content above this ------------------------------------------------------->   
                </div>            
            </div> <!-- /#page-content-wrapper -->  
        </div> <!-- /#wrapper -->

        <img src="{% static 'CRS/images/cIcons/up-arrow.png' %}" id="btn-back-to-top" class="unselectable"> <!-- scroll to top -->
        
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        
        <!-- JS -->
        <script src="{% static '/CRS/js/cHome/cHomeMain.js' %}"></script>   
        <script>
            let mybutton = document.getElementById("btn-back-to-top");
            window.onscroll = function () {
              scrollFunction();
            };
            mybutton.addEventListener("click", backToTop);
        </script>     
    </body>

</html>